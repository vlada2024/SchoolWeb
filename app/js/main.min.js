document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".menu__button"),t=document.querySelector(".close__button"),a=document.querySelector(".menu-page"),o=document.querySelector(".startup-page");e.addEventListener("click",(()=>{a.classList.remove("menu-page--invisible"),o.classList.add("startup-page--invisible")})),t.addEventListener("click",(()=>{o.classList.remove("startup-page--invisible"),a.classList.add("menu-page--invisible")}))}));var dataStorage={saveValue:(e,t)=>{localStorage.setItem(e,t)},loadValue:(e,t)=>{const a=localStorage.getItem(e);return a||t}};window.addEventListener("load",onWindowLoad);const USER_THEME="user-theme2",LIGHT="light",DARK="dark",AUTO="auto",DEFAULT_THEME=LIGHT,BUTTON_ACTIVE="active",DARK_THEME_BUTTON=".indicator-image-dark",LIGHT_THEME_BUTTON=".indicator-image-light",AUTO_THEME_BUTTON=".indicator-image-auto",EMPTY_THEME_BUTTON=".indicator-image-empty";function onWindowLoad(){let e=i();const t=[LIGHT,DARK,AUTO],a=document.documentElement,o=document.querySelector(DARK_THEME_BUTTON),s=document.querySelector(LIGHT_THEME_BUTTON),n=document.querySelector(AUTO_THEME_BUTTON),T=document.querySelector(EMPTY_THEME_BUTTON),c=[s,o,n];function i(){return dataStorage.loadValue(USER_THEME)}function d(e){e?(n.classList.contains(BUTTON_ACTIVE)||n.classList.add(BUTTON_ACTIVE),T.classList.contains(BUTTON_ACTIVE)||T.classList.add(BUTTON_ACTIVE)):(n.classList.contains(BUTTON_ACTIVE)&&n.classList.remove(BUTTON_ACTIVE),T.classList.contains(BUTTON_ACTIVE)&&T.classList.remove(BUTTON_ACTIVE))}function r(){return window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?DARK:LIGHT:DEFAULT_THEME}function l(o,s,n=!1){!function(e,o){if(e==o)return;a.classList.contains(e)&&a.classList.remove(e);let s="";o==AUTO&&(s=r(),a.classList.remove(e),a.classList.add(s),d(!1));for(let n=0;n<c.length;n++)o==AUTO?t[n]!=s?c[n].classList.remove(BUTTON_ACTIVE):c[n].classList.add(BUTTON_ACTIVE):(t[n]==o&&(c[n].classList.add(BUTTON_ACTIVE),a.classList.add(o)),t[n]==e&&c[n].classList.remove(BUTTON_ACTIVE))}(o,s),n&&(dataStorage.saveValue(USER_THEME,s),e=s),d(e)}!function(){n?n.addEventListener("click",(t=>{dataStorage.saveValue(USER_THEME,"");const a=e;e=void 0,l(a,AUTO,!1)})):console.error("autoThemeButton not found!"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{if(!dataStorage.loadValue(USER_THEME)){let e=r();l(e==DARK?LIGHT:DARK,e,!1)}}));for(let e=0;e<c.length;e++)if(t[e]!=AUTO)if(button=c[e],button){let a=t[e];button.addEventListener("click",(e=>{d(!0);const t=i();console.warn("theme!!!  ---\x3e>> ",t,a),l(t||r(),a,!0)}))}else console.error("button, "+t[e]+" not found!");e?l("",e,!1):l(AUTO,r(),!1)}()}