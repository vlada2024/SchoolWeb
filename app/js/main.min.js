window.addEventListener("load",onWindowLoad);const USER_THEME="user-theme2",LIGHT="light",DARK="dark",AUTO="auto",DEFAULT_THEME=LIGHT,BUTTON_ACTIVE="active",DARK_THEME_BUTTON=".indicator-image-dark",LIGHT_THEME_BUTTON=".indicator-image-light",AUTO_THEME_BUTTON=".indicator-image-auto";function onWindowLoad(){let e=dataStorage.loadValue(USER_THEME);const t=[LIGHT,DARK,AUTO],a=document.documentElement,o=document.querySelector(DARK_THEME_BUTTON),T=document.querySelector(LIGHT_THEME_BUTTON),n=document.querySelector(AUTO_THEME_BUTTON),s=[T,o,n];function c(){return window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?DARK:LIGHT:DEFAULT_THEME}function d(o,T,d=!1){!function(e,o){if(e==o)return;a.classList.contains(e)&&a.classList.remove(e);let T="";o==AUTO&&(T=c(),a.classList.add(T),n.classList.contains(BUTTON_ACTIVE)&&n.classList.remove(BUTTON_ACTIVE));for(let e=0;e<s.length;e++)o==AUTO?t[e]!=T&&s[e].classList.remove(BUTTON_ACTIVE):t[e]==o&&(s[e].classList.add(BUTTON_ACTIVE),a.classList.add(o))}(o,T),d&&(dataStorage.saveValue(USER_THEME,T),e=T)}!function(){n?n.addEventListener("click",(t=>{dataStorage.saveValue(USER_THEME,"");const a=e;e=void 0,a||console.warn("prevTheme is NULL!!"),d(a,AUTO,!1)})):console.error("autoThemeButton not found!"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{if(!dataStorage.loadValue(USER_THEME)){let e=c();d(e==DARK?LIGHT:DARK,e,!1)}}));for(let a=0;a<s.length;a++)if(t[a]!=AUTO)if(button=s[a],button){const o=t[a];button.addEventListener("click",(t=>{n?.classList.contains(BUTTON_ACTIVE)||n?.classList.add(BUTTON_ACTIVE),d(e||c(),o,!0)}))}else console.error("button, "+t[a]+" not found!");e?d("",e,!1):d(AUTO,c(),!1)}()}var dataStorage={saveValue:(e,t)=>{localStorage.setItem(e,t)},loadValue:(e,t)=>{const a=localStorage.getItem(e);return a||t}};